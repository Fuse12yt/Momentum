<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Momentum</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>

body{
margin:0;
font-family: 'Segoe UI', sans-serif;
background: linear-gradient(135deg,#0f0c29,#302b63,#24243e);
color:white;
}

.container{
max-width:1100px;
margin:auto;
padding:40px;
}

h1{
font-size:40px;
margin-bottom:5px;
}

.subtitle{
opacity:0.7;
margin-bottom:30px;
}

.card{
background:rgba(255,255,255,0.07);
backdrop-filter:blur(15px);
border-radius:20px;
padding:25px;
margin-bottom:25px;
box-shadow:0 0 50px rgba(0,0,0,0.4);
}

input,select,button{
padding:12px;
margin:8px;
border-radius:12px;
border:none;
font-size:15px;
}

input,select{
width:220px;
}

button{
background:linear-gradient(90deg,#00f5a0,#00d9f5);
color:black;
font-weight:bold;
cursor:pointer;
transition:0.3s;
}

button:hover{
transform:scale(1.05);
}

.progress-bar{
height:20px;
background:#1e1e2f;
border-radius:10px;
margin-top:15px;
}

.progress{
height:20px;
background:linear-gradient(90deg,#00f5a0,#00d9f5);
border-radius:10px;
width:0%;
transition:0.4s;
}

.stat{
font-size:18px;
margin:6px 0;
}

.badge{
display:inline-block;
background:linear-gradient(90deg,#ff9966,#ff5e62);
padding:6px 12px;
margin:5px;
border-radius:12px;
font-size:12px;
}

.big{
font-size:30px;
margin-top:10px;
}

.footer{
text-align:center;
margin-top:40px;
opacity:0.5;
font-size:13px;
}

</style>
</head>
<body>

<div class="container">

<h1>Momentum</h1>
<p class="subtitle">Turn Time Into Power</p>

<div class="card" id="setup">
<h2>Cr√©er ton Profil</h2>
<input type="text" id="username" placeholder="Pseudo"><br>
<input type="number" id="lostHours" placeholder="Heures perdues / jour"><br>
<button onclick="start()">Activer</button>
</div>

<div id="app" style="display:none;">

<div class="card">
<h2 id="welcome"></h2>
<div class="stat">Niveau : <span id="level"></span></div>
<div class="stat">XP : <span id="xp"></span></div>
<div class="stat">Score : <span id="score"></span></div>
<div class="stat">üî• Streak : <span id="streak"></span></div>
<div class="progress-bar">
<div class="progress" id="progressBar"></div>
</div>
</div>

<div class="card">
<h3>‚è≥ Focus libre</h3>
<input type="number" id="focusMinutes" placeholder="Minutes">
<button onclick="startFocus()">Lancer</button>
<div class="big" id="timer">00:00</div>
</div>

<div class="card">
<h3>üìâ Analyse Temps</h3>
<p id="lostYear"></p>
<p id="potentialYear"></p>
<p id="threeYear"></p>
</div>

<div class="card">
<h3>üèÜ Badges</h3>
<div id="badges"></div>
</div>

<div class="card">
<h3>üìà Progression</h3>
<canvas id="chart"></canvas>
</div>

</div>

<div class="footer">Momentum System</div>

</div>

<script>

let data=JSON.parse(localStorage.getItem("momentumPro"))||{
username:"",
xp:0,
level:1,
streak:0,
lastLogin:null,
badges:[],
history:[],
score:0,
lostPerDay:0
};

function save(){
localStorage.setItem("momentumPro",JSON.stringify(data));
}

function start(){
let name=document.getElementById("username").value;
let lost=parseFloat(document.getElementById("lostHours").value);

if(!name||!lost){alert("Remplis tout");return;}

data.username=name;
data.lostPerDay=lost;
updateStreak();
save();
render();
}

function updateStreak(){
let today=new Date().toDateString();
if(data.lastLogin!==today){
data.streak++;
data.lastLogin=today;
}
}

function startFocus(){
let minutes=parseInt(document.getElementById("focusMinutes").value);
if(!minutes)return;

let time=minutes*60;
let display=document.getElementById("timer");

let interval=setInterval(()=>{
let m=Math.floor(time/60);
let s=time%60;
display.innerText=(m<10?"0":"")+m+":"+(s<10?"0":"")+s;
time--;
if(time<0){
clearInterval(interval);
let gainedXP=minutes*2;
data.xp+=gainedXP;
data.history.push(data.xp);
if(data.xp>=data.level*300){
data.level++;
unlockBadge();
}
data.score=Math.floor(data.xp + data.streak*50);
save();
render();
}
},1000);
}

function unlockBadge(){
if(data.level===3)data.badges.push("Rising");
if(data.level===5)data.badges.push("Focused");
if(data.level===8)data.badges.push("Elite");
if(data.streak>=7)data.badges.push("Discipline");
if(data.xp>=2000)data.badges.push("Beast Mode");
}

function render(){
document.getElementById("setup").style.display="none";
document.getElementById("app").style.display="block";

document.getElementById("welcome").innerText="Bienvenue "+data.username;
document.getElementById("level").innerText=data.level;
document.getElementById("xp").innerText=data.xp;
document.getElementById("streak").innerText=data.streak;
document.getElementById("score").innerText=data.score;

document.getElementById("progressBar").style.width=(data.xp%(data.level*300))/(data.level*300)*100+"%";

let lostYear=data.lostPerDay*365;
let potentialYear=lostYear*2; 
let threeYear=potentialYear*3;

document.getElementById("lostYear").innerText=
"Tu perds environ "+lostYear+" heures par an.";

document.getElementById("potentialYear").innerText=
"Si tu utilisais ces heures en focus ‚Üí "+potentialYear+" XP potentiel/an.";

document.getElementById("threeYear").innerText=
"Sur 3 ans ‚Üí "+threeYear+" XP possible.";

let b=document.getElementById("badges");
b.innerHTML="";
[...new Set(data.badges)].forEach(badge=>{
let s=document.createElement("span");
s.className="badge";
s.innerText=badge;
b.appendChild(s);
});

let ctx=document.getElementById("chart");
new Chart(ctx,{
type:"line",
data:{
labels:data.history.map((_,i)=>i+1),
datasets:[{
label:"XP",
data:data.history,
borderColor:"#00f5a0",
fill:false
}]
}
});
}

if(data.username)render();

</script>

</body>
</html>
